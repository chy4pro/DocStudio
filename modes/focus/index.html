<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>DocStudio - 专注模式</title>
    <!-- 引入共享基础样式 -->
    <link rel="stylesheet" href="../../shared/base.css">
    <!-- 引入模式特定样式 -->
    <link rel="stylesheet" href="styles.css">
    <!-- 添加Markdown库 -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://unpkg.com/turndown/dist/turndown.js"></script>
</head>
<body>
    <div class="header">
        <h1>DocStudio - 专注模式</h1>
        <button class="hamburger-menu settings-btn">&#9776;</button>
    </div>
    
    <!-- 设置弹窗 -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>设置</h3>
                <button class="close-btn" id="closeModal">×</button>
            </div>
            <div class="setting-item">
                <label for="apiEndpoint">API接口地址</label>
                <input type="text" id="apiEndpoint" placeholder="例如: https://api.example.com/v1">
            </div>
            <div class="setting-item">
                <label for="apiKey">API Key</label>
                <input type="password" id="apiKey" placeholder="输入您的API密钥">
            </div>
            <div class="setting-item">
                <label for="model">模型名称</label>
                <input type="text" id="model" placeholder="例如: gpt-3.5-turbo">
            </div>
            <div class="setting-item">
                <label for="temperature">温度 (0-2)</label>
                <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7">
                <span id="tempValue">0.7</span>
            </div>
            <div class="setting-item">
                <label for="maxTokens">最大令牌数</label>
                <input type="number" id="maxTokens" min="1" max="4096" value="2048">
            </div>
            <div class="setting-item" style="display: flex; gap: 10px;">
                <button id="testAPI" style="flex: 1; padding: 8px; background-color: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">测试连接</button>
                <button id="saveSettings" style="flex: 1; padding: 8px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">保存设置</button>
            </div>
            <div id="testResult" style="margin-top: 10px; padding: 8px; display: none; border-radius: 4px; text-align: center;"></div>
        </div>
    </div>
    <div class="focus-container">
        <div class="editor-container" id="draft-container">
            <div data-role="textarea-container"></div>
        </div>
    </div>
    
    <!-- 右键菜单 -->
    <div id="rightClickMenu" class="context-menu">
        <div class="menu-content">
            <input type="text" id="rightClickInput" placeholder="在这里输入...">
        </div>
    </div>
    
    <!-- 核心模块 -->
    <script src="../../js/events.js"></script>
    <script src="../../js/modeManager.js"></script>
    <script src="../../js/services/Settings.js"></script>
    <script src="../../js/services/RightClickMenu.js"></script>
    <script src="../../js/components/Draft.js"></script>
    <script src="../../js/components/Preview.js"></script>
    <script src="../../js/components/Publish.js"></script>
    <script src="../../js/main.js"></script>
    <!-- 模式特定脚本 -->
    <script src="script.js"></script>
</body>
</html>
